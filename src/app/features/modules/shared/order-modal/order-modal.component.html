<div *ngIf="isModalOpen" class="modal-overlay" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2 class="modal-title">Add New Order</h2>

    <form [formGroup]="orderForm" (ngSubmit)="onSubmit()">
      <!-- Book Details -->
      <div class="form-section">
        <h3>Book Details</h3>

        <div class="form-group">
          <label for="bookName">Book Name</label>
          <input
            type="text"
            id="bookName"
            formControlName="bookName"
            placeholder="Enter book name"
          />
          <small class="error" *ngIf="orderForm.controls['bookName'].touched && orderForm.controls['bookName'].invalid">
            Book name is required.
          </small>
        </div>

        <div class="form-group">
          <label for="authorName">Author Name</label>
          <input
            type="text"
            id="authorName"
            formControlName="authorName"
            placeholder="Enter author name"
          />
          <small class="error" *ngIf="orderForm.controls['authorName'].touched && orderForm.controls['authorName'].invalid">
            Author name is required.
          </small>
        </div>

        <div class="form-group">
          <label for="genre">Genre</label>
          <input
            type="text"
            id="genre"
            formControlName="genre"
            placeholder="Enter genre"
          />
          <small class="error" *ngIf="orderForm.controls['genre'].touched && orderForm.controls['genre'].invalid">
            Genre is required.
          </small>
        </div>

        <div class="form-group">
          <label for="publicationYear">Publication Year</label>
          <input
            type="number"
            id="publicationYear"
            formControlName="publicationYear"
            placeholder="Enter publication year"
          />
          <small class="error" *ngIf="orderForm.controls['publicationYear'].touched && orderForm.controls['publicationYear'].invalid">
            Publication year is required.
          </small>
        </div>

        <div class="form-group">
          <label for="quantity">Book Quantity</label>
          <input
            type="number"
            id="quantity"
            formControlName="quantity"
            placeholder="Enter quantity"
          />
          <small class="error" *ngIf="orderForm.controls['quantity'].touched && orderForm.controls['quantity'].invalid">
            Enter a valid quantity (minimum 1).
          </small>
        </div>

        <div class="form-group">
          <label for="bookPicture">Upload Book Picture</label>
          <input
            type="file"
            id="bookPicture"
            (change)="onFileSelect($event)"
            accept="image/*"
          />
          <small class="error" *ngIf="!selectedFile && orderForm.controls['bookPicture'].touched">
            Book picture is required.
          </small>
        </div>
      </div>

      <!-- Order Details -->
      <div class="form-section">
        <h3>Order Details</h3>

        <div class="form-group">
          <label for="printType">Print Type</label>
          <select id="printType" formControlName="printType">
            <option value="Offset">Offset</option>
            <option value="Digital">Digital</option>
            <option value="Letterpress">Letterpress</option>
            <option value="Screen Printing">Screen Printing</option>
          </select>
          <small class="error" *ngIf="orderForm.controls['printType'].touched && orderForm.controls['printType'].invalid">
            Print type is required.
          </small>
        </div>

        <div class="form-group">
          <label for="paperType">Paper Type</label>
          <select id="paperType" formControlName="paperType">
            <option value="Glossy">Glossy</option>
            <option value="Matte">Matte</option>
            <option value="Coated">Coated</option>
            <option value="Recycled">Recycled</option>
          </select>
          <small class="error" *ngIf="orderForm.controls['paperType'].touched && orderForm.controls['paperType'].invalid">
            Paper type is required.
          </small>
        </div>

        <div class="form-group">
          <label for="coverType">Cover Type</label>
          <select id="coverType" formControlName="coverType">
            <option value="Softcover">Softcover</option>
            <option value="Hardcover">Hardcover</option>
            <option value="Flexible">Flexible</option>
          </select>
          <small class="error" *ngIf="orderForm.controls['coverType'].touched && orderForm.controls['coverType'].invalid">
            Cover type is required.
          </small>
        </div>

        <div class="form-group">
          <label for="fasteningType">Fastening Type</label>
          <select id="fasteningType" formControlName="fasteningType">
            <option value="Perfect">Perfect</option>
            <option value="Saddle Stitching">Saddle Stitching</option>
            <option value="Spiral">Spiral</option>
            <option value="Case">Case</option>
          </select>
          <small class="error" *ngIf="orderForm.controls['fasteningType'].touched && orderForm.controls['fasteningType'].invalid">
            Fastening type is required.
          </small>
        </div>

        <div class="form-group">
          <label for="isLaminated">Is Laminated</label>
          <input
            type="checkbox"
            id="isLaminated"
            formControlName="isLaminated"
          />
        </div>

        <div class="form-group">
          <label for="completionDate">Completion Date</label>
          <input
            type="date"
            id="completionDate"
            formControlName="completionDate"
          />
          <small class="error" *ngIf="orderForm.controls['completionDate'].touched && orderForm.controls['completionDate'].invalid">
            Completion date is required.
          </small>
        </div>
      </div>

      <!-- Footer -->
      <div class="modal-footer">
        <button type="submit" class="submit-btn" [disabled]="orderForm.invalid">
          Confirm
        </button>
        <button type="button" class="cancel-btn" (click)="closeModal()">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
